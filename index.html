<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChangeX Neurix | Universal AI Platform</title>
    
    <!-- Bootstrap 5.3 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Animate.css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    
    <!-- Custom Styles -->
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --ai-gradient: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            --dark-bg: #0f172a;
            --card-bg: #1e293b;
            --text-primary: #f8fafc;
            --text-secondary: #94a3b8;
            --accent-purple: #8b5cf6;
            --accent-blue: #3b82f6;
            --accent-green: #10b981;
            --accent-red: #ef4444;
            --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.2);
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--dark-bg);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: var(--dark-bg);
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--accent-purple);
            border-radius: 4px;
        }
        
        /* Navbar */
        .navbar {
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            padding: 1rem 0;
            transition: var(--transition);
        }
        
        .navbar-brand {
            font-weight: 700;
            font-size: 1.8rem;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .nav-link {
            color: var(--text-secondary) !important;
            font-weight: 500;
            margin: 0 0.5rem;
            transition: var(--transition);
            position: relative;
        }
        
        .nav-link:hover, .nav-link.active {
            color: var(--text-primary) !important;
        }
        
        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--primary-gradient);
            border-radius: 2px;
        }
        
        /* Buttons */
        .btn-primary {
            background: var(--primary-gradient);
            border: none;
            padding: 0.75rem 1.5rem;
            font-weight: 600;
            transition: var(--transition);
            border-radius: 8px;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .btn-secondary {
            background: var(--secondary-gradient);
            border: none;
            padding: 0.75rem 1.5rem;
            font-weight: 600;
            transition: var(--transition);
            border-radius: 8px;
        }
        
        .btn-ai {
            background: var(--ai-gradient);
            border: none;
            padding: 0.75rem 1.5rem;
            font-weight: 600;
            transition: var(--transition);
            border-radius: 8px;
            color: #000;
        }
        
        /* Cards */
        .card {
            background: var(--card-bg);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            transition: var(--transition);
            margin-bottom: 1.5rem;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }
        
        .card-header {
            background: rgba(255, 255, 255, 0.03);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            padding: 1.25rem 1.5rem;
            border-radius: 12px 12px 0 0 !important;
        }
        
        /* Hero Section */
        .hero-section {
            min-height: 85vh;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
            padding: 4rem 0;
        }
        
        .hero-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 50%, rgba(103, 126, 234, 0.15) 0%, transparent 50%),
                       radial-gradient(circle at 80% 20%, rgba(118, 75, 162, 0.1) 0%, transparent 50%);
            z-index: -1;
        }
        
        .hero-title {
            font-size: 3.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #fff 0%, #a5b4fc 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 1.5rem;
        }
        
        /* Stats */
        .stat-card {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            padding: 1.5rem;
            border-left: 4px solid var(--accent-purple);
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        /* AI Model Cards */
        .model-card {
            height: 100%;
            border-radius: 12px;
            overflow: hidden;
            position: relative;
        }
        
        .model-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }
        
        .text-model { background: rgba(59, 130, 246, 0.2); color: #3b82f6; }
        .image-model { background: rgba(139, 92, 246, 0.2); color: #8b5cf6; }
        .video-model { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
        .audio-model { background: rgba(16, 185, 129, 0.2); color: #10b981; }
        .iot-model { background: rgba(245, 158, 11, 0.2); color: #f59e0b; }
        .learning-model { background: rgba(168, 85, 247, 0.2); color: #a855f7; }
        
        /* Animation Classes */
        .fade-in {
            animation: fadeIn 0.8s ease forwards;
        }
        
        .slide-up {
            animation: slideUp 0.8s ease forwards;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { 
                opacity: 0;
                transform: translateY(30px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Progress Bars */
        .progress {
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            height: 10px;
        }
        
        .progress-bar {
            background: var(--primary-gradient);
            border-radius: 10px;
        }
        
        /* Form Controls */
        .form-control, .form-select {
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
            border-radius: 8px;
            padding: 0.75rem 1rem;
        }
        
        .form-control:focus, .form-select:focus {
            background-color: rgba(255, 255, 255, 0.08);
            border-color: var(--accent-purple);
            color: var(--text-primary);
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);
        }
        
        /* Dashboard Grid */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        
        /* Tabs */
        .nav-tabs {
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .nav-tabs .nav-link {
            border: none;
            color: var(--text-secondary);
            border-radius: 8px 8px 0 0;
            padding: 0.75rem 1.5rem;
        }
        
        .nav-tabs .nav-link.active {
            background: rgba(139, 92, 246, 0.1);
            color: var(--accent-purple);
            border-bottom: 2px solid var(--accent-purple);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }
            
            .stat-number {
                font-size: 2rem;
            }
            
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* Loading Spinner */
        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid rgba(139, 92, 246, 0.2);
            border-top-color: var(--accent-purple);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Notification Badge */
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--accent-red);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Floating Action Button */
        .fab {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--primary-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            box-shadow: var(--shadow-lg);
            z-index: 1000;
            transition: var(--transition);
        }
        
        .fab:hover {
            transform: scale(1.1);
        }
        
        /* Model Output Display */
        .output-display {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            padding: 1.5rem;
            min-height: 200px;
            border: 1px dashed rgba(255, 255, 255, 0.1);
        }
        
        .output-image {
            max-width: 100%;
            border-radius: 8px;
            margin-bottom: 1rem;
        }
        
        /* Dark Mode Toggle */
        .theme-toggle {
            width: 50px;
            height: 26px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 13px;
            position: relative;
            cursor: pointer;
            border: none;
        }
        
        .theme-toggle::after {
            content: '';
            position: absolute;
            top: 3px;
            left: 3px;
            width: 20px;
            height: 20px;
            background: var(--accent-purple);
            border-radius: 50%;
            transition: var(--transition);
        }
        
        .theme-toggle.active::after {
            transform: translateX(24px);
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-brain me-2"></i>ChangeX Neurix
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="#home">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#dashboard">Dashboard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#models">AI Models</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#automation">Automation</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#analytics">Analytics</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#admin">Admin</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                            <i class="fas fa-user-circle"></i>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#profile">Profile</a></li>
                            <li><a class="dropdown-item" href="#settings">Settings</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item text-danger" href="#logout">Logout</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content Container -->
    <div class="container-fluid p-0" id="app-container">
        <!-- Home Page -->
        <section id="home" class="page active">
            <div class="hero-section">
                <div class="hero-bg"></div>
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-lg-6 fade-in">
                            <h1 class="hero-title animate__animated animate__fadeInUp">
                                Universal AI Platform for Enterprise
                            </h1>
                            <p class="lead mb-4 animate__animated animate__fadeInUp animate__delay-1s">
                                Advanced multi-modal AI with text, image, video, audio generation, IoT control, and self-learning capabilities. Production-ready for businesses of all sizes.
                            </p>
                            <div class="d-flex gap-3 animate__animated animate__fadeInUp animate__delay-2s">
                                <button class="btn btn-primary" onclick="navigateTo('dashboard')">
                                    <i class="fas fa-rocket me-2"></i>Launch Dashboard
                                </button>
                                <button class="btn btn-secondary" onclick="navigateTo('models')">
                                    <i class="fas fa-robot me-2"></i>Explore AI Models
                                </button>
                            </div>
                        </div>
                        <div class="col-lg-6 animate__animated animate__fadeIn animate__delay-1s">
                            <div class="card p-4">
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <div class="stat-card slide-up">
                                            <div class="stat-number" id="total-users">12,847</div>
                                            <p class="text-muted mb-0">Active Users</p>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="stat-card slide-up">
                                            <div class="stat-number" id="total-images">894,231</div>
                                            <p class="text-muted mb-0">Images Generated</p>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="stat-card slide-up">
                                            <div class="stat-number" id="api-calls">4.2M</div>
                                            <p class="text-muted mb-0">API Calls Today</p>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="stat-card slide-up">
                                            <div class="stat-number" id="iot-devices">3,412</div>
                                            <p class="text-muted mb-0">IoT Devices</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Features Section -->
            <div class="container py-5">
                <div class="text-center mb-5">
                    <h2 class="mb-3">Enterprise AI Capabilities</h2>
                    <p class="text-muted">Complete suite of AI tools for modern businesses</p>
                </div>
                
                <div class="row g-4">
                    <div class="col-md-4">
                        <div class="card model-card p-4 text-model">
                            <div class="model-icon">
                                <i class="fas fa-font"></i>
                            </div>
                            <h5>Text Generation</h5>
                            <p class="text-muted">Advanced NLP models for content creation, summarization, translation, and code generation.</p>
                            <button class="btn btn-sm btn-primary mt-2" onclick="navigateTo('models', 'text')">Try Now</button>
                        </div>
                    </div>
                    
                    <div class="col-md-4">
                        <div class="card model-card p-4 image-model">
                            <div class="model-icon">
                                <i class="fas fa-image"></i>
                            </div>
                            <h5>Image Generation</h5>
                            <p class="text-muted">Stable Diffusion-based image creation, variations, and editing with self-learning capabilities.</p>
                            <button class="btn btn-sm btn-primary mt-2" onclick="navigateTo('models', 'image')">Try Now</button>
                        </div>
                    </div>
                    
                    <div class="col-md-4">
                        <div class="card model-card p-4 video-model">
                            <div class="model-icon">
                                <i class="fas fa-video"></i>
                            </div>
                            <h5>Video Generation</h5>
                            <p class="text-muted">Create videos from text with scene generation, narration, and professional editing tools.</p>
                            <button class="btn btn-sm btn-primary mt-2" onclick="navigateTo('models', 'video')">Try Now</button>
                        </div>
                    </div>
                    
                    <div class="col-md-4">
                        <div class="card model-card p-4 audio-model">
                            <div class="model-icon">
                                <i class="fas fa-music"></i>
                            </div>
                            <h5>Audio Processing</h5>
                            <p class="text-muted">Text-to-speech, speech recognition, audio enhancement, and voice cloning technology.</p>
                            <button class="btn btn-sm btn-primary mt-2" onclick="navigateTo('models', 'audio')">Try Now</button>
                        </div>
                    </div>
                    
                    <div class="col-md-4">
                        <div class="card model-card p-4 iot-model">
                            <div class="model-icon">
                                <i class="fas fa-microchip"></i>
                            </div>
                            <h5>IoT Control</h5>
                            <p class="text-muted">Connect and control IoT devices with AI-powered automation and real-time monitoring.</p>
                            <button class="btn btn-sm btn-primary mt-2" onclick="navigateTo('models', 'iot')">Try Now</button>
                        </div>
                    </div>
                    
                    <div class="col-md-4">
                        <div class="card model-card p-4 learning-model">
                            <div class="model-icon">
                                <i class="fas fa-graduation-cap"></i>
                            </div>
                            <h5>Self-Learning</h5>
                            <p class="text-muted">Models that improve over time based on user feedback and usage patterns.</p>
                            <button class="btn btn-sm btn-primary mt-2" onclick="navigateTo('models', 'learning')">Try Now</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Dashboard Page -->
        <section id="dashboard" class="page">
            <div class="container-fluid py-5">
                <div class="row mb-4">
                    <div class="col">
                        <h2><i class="fas fa-tachometer-alt me-2"></i>Dashboard</h2>
                        <p class="text-muted">Overview of your AI platform usage and performance</p>
                    </div>
                </div>
                
                <div class="dashboard-grid">
                    <!-- Usage Stats -->
                    <div class="card">
                        <div class="card-header">
                            <h5 class="mb-0">Usage Statistics</h5>
                        </div>
                        <div class="card-body">
                            <div class="mb-3">
                                <div class="d-flex justify-content-between mb-1">
                                    <span>API Requests</span>
                                    <span id="requests-used">1,250</span>
                                </div>
                                <div class="progress">
                                    <div class="progress-bar" style="width: 65%"></div>
                                </div>
                                <small class="text-muted">65% of 2,000 monthly limit</small>
                            </div>
                            
                            <div class="mb-3">
                                <div class="d-flex justify-content-between mb-1">
                                    <span>Image Generation</span>
                                    <span id="images-used">42</span>
                                </div>
                                <div class="progress">
                                    <div class="progress-bar" style="width: 42%"></div>
                                </div>
                                <small class="text-muted">42 of 100 monthly limit</small>
                            </div>
                            
                            <div class="mb-3">
                                <div class="d-flex justify-content-between mb-1">
                                    <span>Storage Used</span>
                                    <span id="storage-used">3.2 GB</span>
                                </div>
                                <div class="progress">
                                    <div class="progress-bar" style="width: 32%"></div>
                                </div>
                                <small class="text-muted">3.2 GB of 10 GB limit</small>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Recent Activity -->
                    <div class="card">
                        <div class="card-header">
                            <h5 class="mb-0">Recent Activity</h5>
                        </div>
                        <div class="card-body">
                            <div class="activity-list" id="activity-list">
                                <!-- Activity items will be loaded here -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- Quick Actions -->
                    <div class="card">
                        <div class="card-header">
                            <h5 class="mb-0">Quick Actions</h5>
                        </div>
                        <div class="card-body">
                            <div class="row g-2">
                                <div class="col-6">
                                    <button class="btn btn-primary w-100 mb-2" onclick="navigateTo('models', 'text')">
                                        <i class="fas fa-font me-1"></i> Text AI
                                    </button>
                                </div>
                                <div class="col-6">
                                    <button class="btn btn-primary w-100 mb-2" onclick="navigateTo('models', 'image')">
                                        <i class="fas fa-image me-1"></i> Image AI
                                    </button>
                                </div>
                                <div class="col-6">
                                    <button class="btn btn-primary w-100 mb-2" onclick="navigateTo('automation')">
                                        <i class="fas fa-robot me-1"></i> Automation
                                    </button>
                                </div>
                                <div class="col-6">
                                    <button class="btn btn-primary w-100 mb-2" onclick="navigateTo('analytics')">
                                        <i class="fas fa-chart-line me-1"></i> Analytics
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Model Performance -->
                <div class="card mt-4">
                    <div class="card-header">
                        <h5 class="mb-0">Model Performance</h5>
                    </div>
                    <div class="card-body">
                        <canvas id="modelPerformanceChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- AI Models Page -->
        <section id="models" class="page">
            <div class="container-fluid py-5">
                <div class="row mb-4">
                    <div class="col">
                        <h2><i class="fas fa-robot me-2"></i>AI Models</h2>
                        <p class="text-muted">Access and manage all AI models</p>
                    </div>
                </div>
                
                <!-- Model Tabs -->
                <ul class="nav nav-tabs mb-4" id="modelTabs">
                    <li class="nav-item">
                        <a class="nav-link active" data-bs-toggle="tab" href="#text-tab">Text Generation</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-bs-toggle="tab" href="#image-tab">Image Generation</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-bs-toggle="tab" href="#video-tab">Video Generation</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-bs-toggle="tab" href="#audio-tab">Audio Processing</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-bs-toggle="tab" href="#iot-tab">IoT Control</a>
                    </li>
                </ul>
                
                <!-- Tab Content -->
                <div class="tab-content" id="modelTabsContent">
                    <!-- Text Generation Tab -->
                    <div class="tab-pane fade show active" id="text-tab">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">Text Generation</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="mb-3">
                                            <label class="form-label">Model Type</label>
                                            <select class="form-select" id="textModelType">
                                                <option value="dialogue">Dialogue Generation</option>
                                                <option value="summarization">Summarization</option>
                                                <option value="translation">Translation</option>
                                                <option value="code">Code Generation</option>
                                            </select>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">Input Text</label>
                                            <textarea class="form-control" id="textInput" rows="6" placeholder="Enter your text here..."></textarea>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">Parameters</label>
                                            <div class="row g-2">
                                                <div class="col-md-6">
                                                    <input type="number" class="form-control" id="maxLength" placeholder="Max Length" value="100">
                                                </div>
                                                <div class="col-md-6">
                                                    <input type="number" class="form-control" id="temperature" placeholder="Temperature" value="0.7" step="0.1" min="0" max="1">
                                                </div>
                                            </div>
                                        </div>
                                        <button class="btn btn-primary w-100" onclick="generateText()">
                                            <i class="fas fa-magic me-2"></i>Generate Text
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">Output</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="output-display" id="textOutput">
                                            <p class="text-muted mb-0">Your generated text will appear here...</p>
                                        </div>
                                        <div class="mt-3 d-flex gap-2">
                                            <button class="btn btn-secondary" onclick="copyTextOutput()">
                                                <i class="fas fa-copy me-1"></i>Copy
                                            </button>
                                            <button class="btn btn-secondary" onclick="downloadTextOutput()">
                                                <i class="fas fa-download me-1"></i>Download
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Image Generation Tab -->
                    <div class="tab-pane fade" id="image-tab">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">Image Generation</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="mb-3">
                                            <label class="form-label">Prompt</label>
                                            <textarea class="form-control" id="imagePrompt" rows="4" placeholder="Describe the image you want to generate..."></textarea>
                                        </div>
                                        <div class="row g-2 mb-3">
                                            <div class="col-md-6">
                                                <label class="form-label">Width</label>
                                                <select class="form-select" id="imageWidth">
                                                    <option value="512">512px</option>
                                                    <option value="768">768px</option>
                                                    <option value="1024">1024px</option>
                                                </select>
                                            </div>
                                            <div class="col-md-6">
                                                <label class="form-label">Height</label>
                                                <select class="form-select" id="imageHeight">
                                                    <option value="512">512px</option>
                                                    <option value="768">768px</option>
                                                    <option value="1024">1024px</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">Negative Prompt (Optional)</label>
                                            <textarea class="form-control" id="negativePrompt" rows="2" placeholder="What you don't want in the image..."></textarea>
                                        </div>
                                        <button class="btn btn-primary w-100" onclick="generateImage()">
                                            <i class="fas fa-image me-2"></i>Generate Image
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">Generated Image</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="output-display d-flex align-items-center justify-content-center" id="imageOutput">
                                            <p class="text-muted mb-0 text-center">Your generated image will appear here...</p>
                                        </div>
                                        <div class="mt-3 d-flex gap-2">
                                            <button class="btn btn-secondary" onclick="downloadImage()">
                                                <i class="fas fa-download me-1"></i>Download
                                            </button>
                                            <button class="btn btn-secondary" onclick="createVariation()">
                                                <i class="fas fa-sync-alt me-1"></i>Create Variation
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Video Generation Tab -->
                    <div class="tab-pane fade" id="video-tab">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">Video Generation</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="mb-3">
                                            <label class="form-label">Script/Description</label>
                                            <textarea class="form-control" id="videoScript" rows="6" placeholder="Describe the video you want to create..."></textarea>
                                        </div>
                                        <div class="row g-2 mb-3">
                                            <div class="col-md-6">
                                                <label class="form-label">Duration (seconds)</label>
                                                <input type="number" class="form-control" id="videoDuration" value="10" min="1" max="60">
                                            </div>
                                            <div class="col-md-6">
                                                <label class="form-label">FPS</label>
                                                <select class="form-select" id="videoFps">
                                                    <option value="24">24 FPS</option>
                                                    <option value="30" selected>30 FPS</option>
                                                    <option value="60">60 FPS</option>
                                                </select>
                                            </div>
                                        </div>
                                        <button class="btn btn-primary w-100" onclick="generateVideo()">
                                            <i class="fas fa-video me-2"></i>Generate Video
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">Generated Video</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="output-display d-flex align-items-center justify-content-center" id="videoOutput">
                                            <p class="text-muted mb-0 text-center">Your generated video will appear here...</p>
                                        </div>
                                        <div class="mt-3 d-flex gap-2">
                                            <button class="btn btn-secondary" onclick="downloadVideo()">
                                                <i class="fas fa-download me-1"></i>Download
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Audio Processing Tab -->
                    <div class="tab-pane fade" id="audio-tab">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">Audio Processing</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="mb-3">
                                            <label class="form-label">Text to Convert</label>
                                            <textarea class="form-control" id="audioText" rows="4" placeholder="Enter text to convert to speech..."></textarea>
                                        </div>
                                        <div class="row g-2 mb-3">
                                            <div class="col-md-6">
                                                <label class="form-label">Voice Model</label>
                                                <select class="form-select" id="voiceModel">
                                                    <option value="female">Female Voice</option>
                                                    <option value="male">Male Voice</option>
                                                    <option value="custom">Custom Voice</option>
                                                </select>
                                            </div>
                                            <div class="col-md-6">
                                                <label class="form-label">Speed</label>
                                                <input type="range" class="form-range" id="audioSpeed" min="0.5" max="2" step="0.1" value="1">
                                                <span id="speedValue">1.0x</span>
                                            </div>
                                        </div>
                                        <button class="btn btn-primary w-100" onclick="generateAudio()">
                                            <i class="fas fa-volume-up me-2"></i>Generate Audio
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">Audio Output</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="output-display d-flex align-items-center justify-content-center" id="audioOutput">
                                            <p class="text-muted mb-0 text-center">Your generated audio will appear here...</p>
                                        </div>
                                        <div class="mt-3 d-flex gap-2">
                                            <button class="btn btn-secondary" onclick="playAudio()">
                                                <i class="fas fa-play me-1"></i>Play
                                            </button>
                                            <button class="btn btn-secondary" onclick="downloadAudio()">
                                                <i class="fas fa-download me-1"></i>Download
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- IoT Control Tab -->
                    <div class="tab-pane fade" id="iot-tab">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">IoT Device Control</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="mb-3">
                                            <label class="form-label">Select Device</label>
                                            <select class="form-select" id="iotDevice">
                                                <option value="">-- Select Device --</option>
                                                <!-- Devices will be loaded here -->
                                            </select>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">Action</label>
                                            <select class="form-select" id="iotAction">
                                                <option value="status">Check Status</option>
                                                <option value="on">Turn On</option>
                                                <option value="off">Turn Off</option>
                                                <option value="toggle">Toggle</option>
                                                <option value="custom">Custom Command</option>
                                            </select>
                                        </div>
                                        <div class="mb-3" id="customCommandContainer" style="display: none;">
                                            <label class="form-label">Custom Command</label>
                                            <input type="text" class="form-control" id="customCommand" placeholder="Enter custom command...">
                                        </div>
                                        <button class="btn btn-primary w-100" onclick="sendIoTCommand()">
                                            <i class="fas fa-paper-plane me-2"></i>Send Command
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">Device Status</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="output-display" id="iotOutput">
                                            <p class="text-muted mb-0">Device status and command responses will appear here...</p>
                                        </div>
                                        <div class="mt-3">
                                            <h6>Connected Devices</h6>
                                            <div id="deviceList">
                                                <!-- Device list will be loaded here -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Automation Page -->
        <section id="automation" class="page">
            <div class="container-fluid py-5">
                <div class="row mb-4">
                    <div class="col">
                        <h2><i class="fas fa-robot me-2"></i>Automation</h2>
                        <p class="text-muted">Create and manage automated workflows</p>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">Create Workflow</h5>
                            </div>
                            <div class="card-body">
                                <div class="mb-3">
                                    <label class="form-label">Workflow Name</label>
                                    <input type="text" class="form-control" id="workflowName" placeholder="My AI Workflow">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Trigger</label>
                                    <select class="form-select" id="workflowTrigger">
                                        <option value="schedule">Schedule</option>
                                        <option value="api">API Call</option>
                                        <option value="event">Event</option>
                                        <option value="manual">Manual</option>
                                    </select>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Actions</label>
                                    <select class="form-select" id="workflowActions" multiple>
                                        <option value="text">Generate Text</option>
                                        <option value="image">Generate Image</option>
                                        <option value="email">Send Email</option>
                                        <option value="webhook">Call Webhook</option>
                                        <option value="iot">Control IoT Device</option>
                                    </select>
                                    <small class="text-muted">Hold Ctrl to select multiple</small>
                                </div>
                                <button class="btn btn-primary w-100" onclick="createWorkflow()">
                                    <i class="fas fa-plus me-2"></i>Create Workflow
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-8">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">Active Workflows</h5>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-dark table-hover">
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th>Trigger</th>
                                                <th>Status</th>
                                                <th>Last Run</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody id="workflowsTable">
                                            <!-- Workflows will be loaded here -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card mt-4">
                            <div class="card-header">
                                <h5 class="mb-0">Workflow Execution Logs</h5>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-dark table-hover">
                                        <thead>
                                            <tr>
                                                <th>Timestamp</th>
                                                <th>Workflow</th>
                                                <th>Status</th>
                                                <th>Duration</th>
                                            </tr>
                                        </thead>
                                        <tbody id="workflowLogs">
                                            <!-- Logs will be loaded here -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Analytics Page -->
        <section id="analytics" class="page">
            <div class="container-fluid py-5">
                <div class="row mb-4">
                    <div class="col">
                        <h2><i class="fas fa-chart-line me-2"></i>Analytics</h2>
                        <p class="text-muted">Performance metrics and insights</p>
                    </div>
                </div>
                
                <div class="dashboard-grid">
                    <div class="card">
                        <div class="card-header">
                            <h5 class="mb-0">API Usage</h5>
                        </div>
                        <div class="card-body">
                            <canvas id="apiUsageChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h5 class="mb-0">Model Popularity</h5>
                        </div>
                        <div class="card-body">
                            <canvas id="modelPopularityChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h5 class="mb-0">Revenue</h5>
                        </div>
                        <div class="card-body">
                            <canvas id="revenueChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h5 class="mb-0">User Growth</h5>
                        </div>
                        <div class="card-body">
                            <canvas id="userGrowthChart"></canvas>
                        </div>
                    </div>
                </div>
                
                <div class="card mt-4">
                    <div class="card-header">
                        <h5 class="mb-0">Detailed Analytics</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h6>Top Models by Usage</h6>
                                <div id="topModelsList"></div>
                            </div>
                            <div class="col-md-6">
                                <h6>Performance Metrics</h6>
                                <div id="performanceMetrics"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Admin Page -->
        <section id="admin" class="page">
            <div class="container-fluid py-5">
                <div class="row mb-4">
                    <div class="col">
                        <h2><i class="fas fa-shield-alt me-2"></i>Admin Panel</h2>
                        <p class="text-muted">Platform management and monitoring</p>
                    </div>
                </div>
                
                <!-- Admin Tabs -->
                <ul class="nav nav-tabs mb-4" id="adminTabs">
                    <li class="nav-item">
                        <a class="nav-link active" data-bs-toggle="tab" href="#users-tab">Users</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-bs-toggle="tab" href="#approvals-tab">Approvals</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-bs-toggle="tab" href="#transactions-tab">Transactions</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-bs-toggle="tab" href="#system-tab">System</a>
                    </li>
                </ul>
                
                <!-- Admin Tab Content -->
                <div class="tab-content" id="adminTabsContent">
                    <!-- Users Tab -->
                    <div class="tab-pane fade show active" id="users-tab">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">User Management</h5>
                                <button class="btn btn-sm btn-primary" onclick="loadUsers()">
                                    <i class="fas fa-sync-alt me-1"></i>Refresh
                                </button>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-dark table-hover">
                                        <thead>
                                            <tr>
                                                <th>ID</th>
                                                <th>Username</th>
                                                <th>Email</th>
                                                <th>Plan</th>
                                                <th>Status</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody id="usersTable">
                                            <!-- Users will be loaded here -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Approvals Tab -->
                    <div class="tab-pane fade" id="approvals-tab">
                        <div class="row">
                            <div class="col-md-4">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">Pending Approvals</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="list-group" id="approvalList">
                                            <!-- Approval items will be loaded here -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">Approval Details</h5>
                                    </div>
                                    <div class="card-body" id="approvalDetails">
                                        <p class="text-muted mb-0">Select an approval request to view details...</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Transactions Tab -->
                    <div class="tab-pane fade" id="transactions-tab">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">Transaction History</h5>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-dark table-hover">
                                        <thead>
                                            <tr>
                                                <th>Transaction ID</th>
                                                <th>User</th>
                                                <th>Amount</th>
                                                <th>Type</th>
                                                <th>Status</th>
                                                <th>Date</th>
                                            </tr>
                                        </thead>
                                        <tbody id="transactionsTable">
                                            <!-- Transactions will be loaded here -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- System Tab -->
                    <div class="tab-pane fade" id="system-tab">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">System Health</h5>
                                    </div>
                                    <div class="card-body">
                                        <div id="systemHealth">
                                            <!-- System health will be loaded here -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="mb-0">System Actions</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="d-grid gap-2">
                                            <button class="btn btn-primary" onclick="clearCache()">
                                                <i class="fas fa-broom me-2"></i>Clear Cache
                                            </button>
                                            <button class="btn btn-secondary" onclick="backupDatabase()">
                                                <i class="fas fa-database me-2"></i>Backup Database
                                            </button>
                                            <button class="btn btn-warning" onclick="restartServices()">
                                                <i class="fas fa-redo me-2"></i>Restart Services
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Loading Overlay -->
        <div id="loadingOverlay" class="position-fixed top-0 start-0 w-100 h-100 bg-dark d-flex align-items-center justify-content-center" style="z-index: 9999; display: none;">
            <div class="text-center">
                <div class="spinner mb-3"></div>
                <p>Loading...</p>
            </div>
        </div>

        <!-- Floating Action Button -->
        <div class="fab" onclick="toggleChat()">
            <i class="fas fa-comment-dots"></i>
        </div>

        <!-- AI Chat Panel -->
        <div id="chatPanel" class="position-fixed bottom-0 end-0 bg-dark border-start border-top rounded-top-3" style="width: 350px; height: 500px; z-index: 1000; display: none;">
            <div class="card h-100 bg-dark">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h6 class="mb-0">AI Assistant</h6>
                    <button class="btn btn-sm btn-link text-muted" onclick="toggleChat()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="card-body overflow-auto" id="chatMessages">
                    <div class="alert alert-info">
                        <small>Hi! I'm your AI assistant. How can I help you today?</small>
                    </div>
                </div>
                <div class="card-footer">
                    <div class="input-group">
                        <input type="text" class="form-control" id="chatInput" placeholder="Type your message...">
                        <button class="btn btn-primary" onclick="sendChatMessage()">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Main Application Script -->
    <script>
        // API Configuration
        const API_BASE_URL = 'http://localhost:5000/api/v2';
        let currentUser = null;
        let authToken = null;
        let activeCharts = [];

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Check authentication
            checkAuth();
            
            // Load initial data
            loadDashboardData();
            loadActivity();
            loadWorkflows();
            loadUsers();
            loadApprovals();
            loadTransactions();
            loadSystemHealth();
            loadIoTDevices();
            
            // Initialize charts
            initCharts();
            
            // Set up event listeners
            setupEventListeners();
            
            // Update stats animation
            animateStats();
            
            // Show welcome message
            setTimeout(() => {
                showNotification('Welcome to ChangeX Neurix!', 'success');
            }, 1000);
        });

        // Authentication Functions
        function checkAuth() {
            // In a real app, check localStorage or cookies for auth token
            authToken = localStorage.getItem('authToken');
            currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
            
            if (!authToken) {
                // Redirect to login page (simplified)
                showLoginModal();
            }
        }

        function showLoginModal() {
            // Simplified login modal
            const modal = `
                <div class="modal fade show" id="loginModal" tabindex="-1" style="display: block; background: rgba(0,0,0,0.8);">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content bg-dark">
                            <div class="modal-header">
                                <h5 class="modal-title">Login Required</h5>
                            </div>
                            <div class="modal-body">
                                <div class="mb-3">
                                    <label class="form-label">Email</label>
                                    <input type="email" class="form-control" id="loginEmail" value="demo@changexneurix.com">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Password</label>
                                    <input type="password" class="form-control" id="loginPassword" value="demo123">
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button class="btn btn-primary" onclick="simulateLogin()">Login</button>
                                <button class="btn btn-secondary" onclick="simulateRegister()">Register</button>
                            </div>
                        </div>
                    </div>
                </div>`;
            
            document.body.insertAdjacentHTML('beforeend', modal);
        }

        function simulateLogin() {
            // Simulate login for demo
            authToken = 'demo-token-' + Date.now();
            currentUser = {
                id: 1,
                username: 'demo_user',
                email: 'demo@changexneurix.com',
                is_administrator: true,
                has_premium_access: true
            };
            
            localStorage.setItem('authToken', authToken);
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            document.getElementById('loginModal')?.remove();
            showNotification('Login successful!', 'success');
            loadDashboardData();
        }

        // Navigation Functions
        function navigateTo(page, section = null) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(p => {
                p.classList.remove('active');
            });
            
            // Show selected page
            const targetPage = document.getElementById(page);
            if (targetPage) {
                targetPage.classList.add('active');
                
                // Update active nav link
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === `#${page}`) {
                        link.classList.add('active');
                    }
                });
                
                // Scroll to top
                window.scrollTo(0, 0);
                
                // Load page-specific data
                switch(page) {
                    case 'dashboard':
                        loadDashboardData();
                        break;
                    case 'models':
                        if (section) {
                            // Activate specific model tab
                            const tab = document.querySelector(`[href="#${section}-tab"]`);
                            if (tab) {
                                new bootstrap.Tab(tab).show();
                            }
                        }
                        break;
                    case 'automation':
                        loadWorkflows();
                        break;
                    case 'analytics':
                        loadAnalyticsData();
                        break;
                    case 'admin':
                        loadUsers();
                        loadApprovals();
                        loadTransactions();
                        loadSystemHealth();
                        break;
                }
            }
        }

        // API Call Functions
        async function apiCall(endpoint, method = 'GET', data = null) {
            showLoading(true);
            
            const headers = {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${authToken}`
            };
            
            const options = {
                method,
                headers,
                mode: 'cors'
            };
            
            if (data && (method === 'POST' || method === 'PUT')) {
                options.body = JSON.stringify(data);
            }
            
            try {
                const response = await fetch(`${API_BASE_URL}${endpoint}`, options);
                showLoading(false);
                
                if (!response.ok) {
                    throw new Error(`API Error: ${response.status}`);
                }
                
                return await response.json();
            } catch (error) {
                showLoading(false);
                showNotification(`Error: ${error.message}`, 'error');
                console.error('API Call Error:', error);
                return null;
            }
        }

        // Data Loading Functions
        async function loadDashboardData() {
            // Simulate API call
            const data = {
                usage: {
                    requests: { used: 1250, total: 2000 },
                    images: { used: 42, total: 100 },
                    storage: { used: 3.2, total: 10 }
                },
                activity: [
                    { type: 'image', text: 'Generated sunset landscape image', time: '5 min ago' },
                    { type: 'text', text: 'Created blog post about AI ethics', time: '1 hour ago' },
                    { type: 'video', text: 'Generated product demo video', time: '3 hours ago' },
                    { type: 'audio', text: 'Converted text to speech for podcast', time: '1 day ago' }
                ]
            };
            
            // Update usage stats
            updateUsageStats(data.usage);
            
            // Update activity list
            updateActivityList(data.activity);
        }

        function updateUsageStats(usage) {
            document.getElementById('requests-used').textContent = usage.requests.used;
            document.getElementById('images-used').textContent = usage.images.used;
            document.getElementById('storage-used').textContent = `${usage.storage.used} GB`;
            
            // Update progress bars
            updateProgressBar('requests', (usage.requests.used / usage.requests.total) * 100);
            updateProgressBar('images', (usage.images.used / usage.images.total) * 100);
            updateProgressBar('storage', (usage.storage.used / usage.storage.total) * 100);
        }

        function updateProgressBar(type, percentage) {
            // This would update actual progress bars
            console.log(`Updating ${type} progress to ${percentage}%`);
        }

        function updateActivityList(activities) {
            const container = document.getElementById('activity-list');
            if (!container) return;
            
            container.innerHTML = activities.map(activity => `
                <div class="d-flex align-items-start mb-3">
                    <div class="flex-shrink-0">
                        <div class="model-icon ${activity.type}-model" style="width: 40px; height: 40px;">
                            <i class="fas fa-${getActivityIcon(activity.type)}"></i>
                        </div>
                    </div>
                    <div class="flex-grow-1 ms-3">
                        <p class="mb-1">${activity.text}</p>
                        <small class="text-muted">${activity.time}</small>
                    </div>
                </div>
            `).join('');
        }

        function getActivityIcon(type) {
            const icons = {
                image: 'image',
                text: 'font',
                video: 'video',
                audio: 'volume-up',
                iot: 'microchip',
                learning: 'graduation-cap'
            };
            return icons[type] || 'check-circle';
        }

        // AI Model Functions
        async function generateText() {
            const prompt = document.getElementById('textInput').value;
            const modelType = document.getElementById('textModelType').value;
            const maxLength = document.getElementById('maxLength').value;
            const temperature = document.getElementById('temperature').value;
            
            if (!prompt.trim()) {
                showNotification('Please enter some text to generate from', 'warning');
                return;
            }
            
            showLoading(true);
            
            // Simulate API call to text generation endpoint
            setTimeout(() => {
                const responses = {
                    dialogue: `Based on your input: "${prompt}", I've generated a detailed response that addresses your query comprehensively. The AI model has analyzed the context and produced meaningful dialogue that maintains conversational flow while providing valuable insights.`,
                    summarization: `Summary: This text discusses the importance of artificial intelligence in modern business applications. Key points include automation efficiency, data analysis capabilities, and predictive modeling advantages.`,
                    translation: `Translated text: [The content would appear here in the selected language with proper grammar and context preservation.]`,
                    code: `\`\`\`python
def ai_function(input_data):
    """Process input data using AI algorithms"""
    # AI model implementation
    processed = neural_network.predict(input_data)
    return processed
    
# Example usage
result = ai_function(training_data)
print(f"AI Result: {result}")
\`\`\``
                };
                
                const output = responses[modelType] || `Generated text based on: "${prompt}"`;
                
                document.getElementById('textOutput').innerHTML = `
                    <div class="alert alert-info">
                        <small>Generated using ${modelType} model</small>
                    </div>
                    <p>${output}</p>
                `;
                
                showLoading(false);
                showNotification('Text generated successfully!', 'success');
            }, 1500);
        }

        async function generateImage() {
            const prompt = document.getElementById('imagePrompt').value;
            const width = document.getElementById('imageWidth').value;
            const height = document.getElementById('imageHeight').value;
            const negativePrompt = document.getElementById('negativePrompt').value;
            
            if (!prompt.trim()) {
                showNotification('Please enter a prompt for image generation', 'warning');
                return;
            }
            
            showLoading(true);
            
            // Simulate API call to image generation endpoint
            setTimeout(() => {
                // Create a placeholder image with gradient
                const colors = ['#667eea', '#764ba2', '#f093fb', '#f5576c', '#43e97b', '#38f9d7'];
                const color1 = colors[Math.floor(Math.random() * colors.length)];
                const color2 = colors[Math.floor(Math.random() * colors.length)];
                
                const imageHTML = `
                    <div style="
                        width: 100%;
                        height: 300px;
                        background: linear-gradient(135deg, ${color1} 0%, ${color2} 100%);
                        border-radius: 8px;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        color: white;
                        font-weight: bold;
                        text-align: center;
                        padding: 1rem;
                    ">
                        <div>
                            <i class="fas fa-image fa-3x mb-3"></i>
                            <p>Generated Image: "${prompt}"</p>
                            <small>${width} x ${height} pixels</small>
                        </div>
                    </div>
                `;
                
                document.getElementById('imageOutput').innerHTML = imageHTML;
                showLoading(false);
                showNotification('Image generated successfully!', 'success');
            }, 2000);
        }

        async function generateVideo() {
            const script = document.getElementById('videoScript').value;
            const duration = document.getElementById('videoDuration').value;
            const fps = document.getElementById('videoFps').value;
            
            if (!script.trim()) {
                showNotification('Please enter a script for video generation', 'warning');
                return;
            }
            
            showLoading(true);
            
            // Simulate API call to video generation endpoint
            setTimeout(() => {
                const videoHTML = `
                    <div style="
                        width: 100%;
                        height: 300px;
                        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
                        border-radius: 8px;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        color: white;
                        font-weight: bold;
                        text-align: center;
                        padding: 1rem;
                    ">
                        <div>
                            <i class="fas fa-video fa-3x mb-3"></i>
                            <p>Generated Video</p>
                            <p><small>"${script.substring(0, 100)}..."</small></p>
                            <small>${duration}s  ${fps} FPS</small>
                        </div>
                    </div>
                `;
                
                document.getElementById('videoOutput').innerHTML = videoHTML;
                showLoading(false);
                showNotification('Video generation started! It will be ready shortly.', 'success');
            }, 2500);
        }

        async function generateAudio() {
            const text = document.getElementById('audioText').value;
            const voice = document.getElementById('voiceModel').value;
            const speed = document.getElementById('audioSpeed').value;
            
            if (!text.trim()) {
                showNotification('Please enter text for audio generation', 'warning');
                return;
            }
            
            showLoading(true);
            
            // Simulate API call to audio generation endpoint
            setTimeout(() => {
                const audioHTML = `
                    <div class="text-center">
                        <i class="fas fa-volume-up fa-4x mb-3 text-primary"></i>
                        <p>Audio Generated Successfully</p>
                        <p><small>"${text.substring(0, 50)}..."</small></p>
                        <div class="mt-3">
                            <audio controls class="w-100">
                                <source src="#" type="audio/mpeg">
                                Your browser does not support the audio element.
                            </audio>
                        </div>
                    </div>
                `;
                
                document.getElementById('audioOutput').innerHTML = audioHTML;
                showLoading(false);
                showNotification('Audio generated successfully!', 'success');
            }, 1500);
        }

        // IoT Functions
        async function loadIoTDevices() {
            // Simulate loading IoT devices
            const devices = [
                { id: 1, name: 'Smart Light 1', type: 'light', status: 'online' },
                { id: 2, name: 'Office Thermostat', type: 'thermostat', status: 'online' },
                { id: 3, name: 'Security Camera', type: 'camera', status: 'offline' },
                { id: 4, name: 'Smart Plug', type: 'plug', status: 'online' }
            ];
            
            const deviceSelect = document.getElementById('iotDevice');
            const deviceList = document.getElementById('deviceList');
            
            if (deviceSelect) {
                deviceSelect.innerHTML = '<option value="">-- Select Device --</option>' +
                    devices.map(device => 
                        `<option value="${device.id}">${device.name} (${device.status})</option>`
                    ).join('');
            }
            
            if (deviceList) {
                deviceList.innerHTML = devices.map(device => `
                    <div class="d-flex justify-content-between align-items-center mb-2 p-2 border-bottom">
                        <div>
                            <i class="fas fa-${getDeviceIcon(device.type)} me-2"></i>
                            ${device.name}
                        </div>
                        <span class="badge bg-${device.status === 'online' ? 'success' : 'danger'}">
                            ${device.status}
                        </span>
                    </div>
                `).join('');
            }
        }

        function getDeviceIcon(type) {
            const icons = {
                light: 'lightbulb',
                thermostat: 'thermometer-half',
                camera: 'video',
                plug: 'plug'
            };
            return icons[type] || 'microchip';
        }

        async function sendIoTCommand() {
            const deviceId = document.getElementById('iotDevice').value;
            const action = document.getElementById('iotAction').value;
            const customCommand = document.getElementById('customCommand').value;
            
            if (!deviceId) {
                showNotification('Please select a device', 'warning');
                return;
            }
            
            showLoading(true);
            
            // Simulate sending IoT command
            setTimeout(() => {
                const responses = {
                    status: 'Device is online and functioning properly. Temperature: 22C, Power: 45W',
                    on: 'Device turned ON successfully',
                    off: 'Device turned OFF successfully',
                    toggle: 'Device toggled successfully',
                    custom: `Custom command executed: "${customCommand}"`
                };
                
                document.getElementById('iotOutput').innerHTML = `
                    <div class="alert alert-success">
                        <i class="fas fa-check-circle me-2"></i>
                        Command sent successfully!
                    </div>
                    <p>${responses[action] || 'Command executed'}</p>
                    <small class="text-muted">Response time: 150ms</small>
                `;
                
                showLoading(false);
                showNotification('IoT command executed successfully!', 'success');
            }, 1000);
        }

        // Automation Functions
        async function createWorkflow() {
            const name = document.getElementById('workflowName').value;
            const trigger = document.getElementById('workflowTrigger').value;
            const actions = Array.from(document.getElementById('workflowActions').selectedOptions).map(o => o.value);
            
            if (!name.trim()) {
                showNotification('Please enter a workflow name', 'warning');
                return;
            }
            
            if (actions.length === 0) {
                showNotification('Please select at least one action', 'warning');
                return;
            }
            
            showLoading(true);
            
            // Simulate API call
            setTimeout(() => {
                const workflow = {
                    id: Date.now(),
                    name,
                    trigger,
                    actions,
                    status: 'active',
                    lastRun: 'Never'
                };
                
                // Add to workflows table
                addWorkflowToTable(workflow);
                
                // Show success message
                showLoading(false);
                showNotification(`Workflow "${name}" created successfully!`, 'success');
                
                // Reset form
                document.getElementById('workflowName').value = '';
            }, 1000);
        }

        function addWorkflowToTable(workflow) {
            const table = document.getElementById('workflowsTable');
            if (!table) return;
            
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${workflow.name}</td>
                <td><span class="badge bg-info">${workflow.trigger}</span></td>
                <td><span class="badge bg-success">${workflow.status}</span></td>
                <td>${workflow.lastRun}</td>
                <td>
                    <button class="btn btn-sm btn-primary me-1" onclick="runWorkflow(${workflow.id})">
                        <i class="fas fa-play"></i>
                    </button>
                    <button class="btn btn-sm btn-warning me-1" onclick="editWorkflow(${workflow.id})">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button class="btn btn-sm btn-danger" onclick="deleteWorkflow(${workflow.id})">
                        <i class="fas fa-trash"></i>
                    </button>
                </td>
            `;
            
            table.appendChild(row);
        }

        async function loadWorkflows() {
            // Simulate loading workflows
            const workflows = [
                { id: 1, name: 'Daily Report Generator', trigger: 'schedule', status: 'active', lastRun: '2 hours ago' },
                { id: 2, name: 'Image Batch Processor', trigger: 'api', status: 'active', lastRun: '1 day ago' },
                { id: 3, name: 'IoT Morning Routine', trigger: 'event', status: 'inactive', lastRun: '3 days ago' }
            ];
            
            const table = document.getElementById('workflowsTable');
            if (!table) return;
            
            table.innerHTML = workflows.map(workflow => `
                <tr>
                    <td>${workflow.name}</td>
                    <td><span class="badge bg-info">${workflow.trigger}</span></td>
                    <td><span class="badge bg-${workflow.status === 'active' ? 'success' : 'secondary'}">${workflow.status}</span></td>
                    <td>${workflow.lastRun}</td>
                    <td>
                        <button class="btn btn-sm btn-primary me-1" onclick="runWorkflow(${workflow.id})">
                            <i class="fas fa-play"></i>
                        </button>
                        <button class="btn btn-sm btn-warning me-1" onclick="editWorkflow(${workflow.id})">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-sm btn-danger" onclick="deleteWorkflow(${workflow.id})">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                </tr>
            `).join('');
        }

        // Admin Functions
        async function loadUsers() {
            // Simulate loading users
            const users = [
                { id: 1, username: 'john_doe', email: 'john@example.com', plan: 'premium', status: 'active' },
                { id: 2, username: 'jane_smith', email: 'jane@example.com', plan: 'pro', status: 'active' },
                { id: 3, username: 'bob_wilson', email: 'bob@example.com', plan: 'free', status: 'inactive' },
                { id: 4, username: 'alice_brown', email: 'alice@example.com', plan: 'enterprise', status: 'active' }
            ];
            
            const table = document.getElementById('usersTable');
            if (!table) return;
            
            table.innerHTML = users.map(user => `
                <tr>
                    <td>${user.id}</td>
                    <td>${user.username}</td>
                    <td>${user.email}</td>
                    <td><span class="badge bg-${getPlanColor(user.plan)}">${user.plan}</span></td>
                    <td><span class="badge bg-${user.status === 'active' ? 'success' : 'secondary'}">${user.status}</span></td>
                    <td>
                        <button class="btn btn-sm btn-primary me-1" onclick="editUser(${user.id})">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-sm btn-${user.status === 'active' ? 'warning' : 'success'}" onclick="toggleUserStatus(${user.id})">
                            <i class="fas fa-${user.status === 'active' ? 'ban' : 'check'}"></i>
                        </button>
                    </td>
                </tr>
            `).join('');
        }

        function getPlanColor(plan) {
            const colors = {
                free: 'secondary',
                premium: 'primary',
                pro: 'info',
                enterprise: 'success'
            };
            return colors[plan] || 'secondary';
        }

        async function loadApprovals() {
            // Simulate loading approvals
            const approvals = [
                { id: 1, type: 'premium', user: 'bob_wilson', details: 'Upgrade to Premium plan', date: '2024-01-15' },
                { id: 2, type: 'withdrawal', user: 'john_doe', details: 'Withdraw $500', date: '2024-01-14' },
                { id: 3, type: 'transaction', user: 'alice_brown', details: 'Manual payment $999', date: '2024-01-13' }
            ];
            
            const list = document.getElementById('approvalList');
            if (!list) return;
            
            list.innerHTML = approvals.map(approval => `
                <a href="#" class="list-group-item list-group-item-action bg-dark text-white border-0" onclick="showApprovalDetails(${approval.id})">
                    <div class="d-flex w-100 justify-content-between">
                        <h6 class="mb-1">${approval.type.toUpperCase()} Approval</h6>
                        <small>${approval.date}</small>
                    </div>
                    <p class="mb-1">User: ${approval.user}</p>
                    <small>${approval.details}</small>
                </a>
            `).join('');
        }

        function showApprovalDetails(id) {
            const details = {
                1: {
                    type: 'Premium Upgrade',
                    user: 'bob_wilson (bob@example.com)',
                    details: 'Requesting upgrade from Free to Premium plan ($49/month)',
                    additional: 'User has been active for 30 days, generated 50+ images'
                },
                2: {
                    type: 'Withdrawal Request',
                    user: 'john_doe (john@example.com)',
                    details: 'Requesting withdrawal of $500 to PayPal',
                    additional: 'User balance: $750, previous withdrawals: 2'
                },
                3: {
                    type: 'Manual Payment',
                    user: 'alice_brown (alice@example.com)',
                    details: 'Bank transfer of $999 for Enterprise plan',
                    additional: 'Payment proof uploaded, pending verification'
                }
            };
            
            const approval = details[id];
            if (!approval) return;
            
            document.getElementById('approvalDetails').innerHTML = `
                <h5>${approval.type}</h5>
                <p><strong>User:</strong> ${approval.user}</p>
                <p><strong>Details:</strong> ${approval.details}</p>
                <p><strong>Additional Info:</strong> ${approval.additional}</p>
                <hr>
                <div class="d-flex gap-2">
                    <button class="btn btn-success" onclick="approveRequest(${id})">
                        <i class="fas fa-check me-1"></i>Approve
                    </button>
                    <button class="btn btn-danger" onclick="rejectRequest(${id})">
                        <i class="fas fa-times me-1"></i>Reject
                    </button>
                    <button class="btn btn-secondary" onclick="requestMoreInfo(${id})">
                        <i class="fas fa-info-circle me-1"></i>More Info
                    </button>
                </div>
            `;
        }

        async function loadTransactions() {
            // Simulate loading transactions
            const transactions = [
                { id: 'tx_001', user: 'john_doe', amount: '$49', type: 'subscription', status: 'completed', date: '2024-01-15' },
                { id: 'tx_002', user: 'jane_smith', amount: '$99', type: 'payment', status: 'completed', date: '2024-01-14' },
                { id: 'tx_003', user: 'bob_wilson', amount: '$500', type: 'withdrawal', status: 'pending', date: '2024-01-13' },
                { id: 'tx_004', user: 'alice_brown', amount: '$999', type: 'payment', status: 'requires_approval', date: '2024-01-12' }
            ];
            
            const table = document.getElementById('transactionsTable');
            if (!table) return;
            
            table.innerHTML = transactions.map(tx => `
                <tr>
                    <td>${tx.id}</td>
                    <td>${tx.user}</td>
                    <td>${tx.amount}</td>
                    <td><span class="badge bg-info">${tx.type}</span></td>
                    <td><span class="badge bg-${getStatusColor(tx.status)}">${tx.status}</span></td>
                    <td>${tx.date}</td>
                </tr>
            `).join('');
        }

        function getStatusColor(status) {
            const colors = {
                completed: 'success',
                pending: 'warning',
                requires_approval: 'danger',
                failed: 'danger'
            };
            return colors[status] || 'secondary';
        }

        async function loadSystemHealth() {
            // Simulate system health check
            const health = {
                database: { status: 'healthy', latency: '45ms' },
                redis: { status: 'healthy', connections: '42' },
                ai_models: { status: 'healthy', loaded: '8/8' },
                iot: { status: 'degraded', connected: '3/4' },
                api: { status: 'healthy', requests: '1,234/min' }
            };
            
            const container = document.getElementById('systemHealth');
            if (!container) return;
            
            container.innerHTML = Object.entries(health).map(([service, data]) => `
                <div class="d-flex justify-content-between align-items-center mb-3 p-2 border-bottom">
                    <div>
                        <i class="fas fa-${getServiceIcon(service)} me-2"></i>
                        ${service.charAt(0).toUpperCase() + service.slice(1)}
                    </div>
                    <div class="text-end">
                        <span class="badge bg-${data.status === 'healthy' ? 'success' : 'warning'}">
                            ${data.status}
                        </span>
                        <br>
                        <small class="text-muted">${Object.entries(data).filter(([k]) => k !== 'status').map(([k, v]) => `${k}: ${v}`).join(', ')}</small>
                    </div>
                </div>
            `).join('');
        }

        function getServiceIcon(service) {
            const icons = {
                database: 'database',
                redis: 'bolt',
                ai_models: 'robot',
                iot: 'microchip',
                api: 'plug'
            };
            return icons[service] || 'server';
        }

        // Chart Functions
        function initCharts() {
            // Destroy existing charts
            activeCharts.forEach(chart => chart.destroy());
            activeCharts = [];
            
            // Model Performance Chart
            const modelCtx = document.getElementById('modelPerformanceChart');
            if (modelCtx) {
                const modelChart = new Chart(modelCtx.getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: ['Text', 'Image', 'Video', 'Audio', 'IoT', 'Learning'],
                        datasets: [{
                            label: 'Success Rate (%)',
                            data: [98, 95, 92, 96, 99, 94],
                            backgroundColor: [
                                'rgba(59, 130, 246, 0.7)',
                                'rgba(139, 92, 246, 0.7)',
                                'rgba(239, 68, 68, 0.7)',
                                'rgba(16, 185, 129, 0.7)',
                                'rgba(245, 158, 11, 0.7)',
                                'rgba(168, 85, 247, 0.7)'
                            ],
                            borderColor: [
                                'rgb(59, 130, 246)',
                                'rgb(139, 92, 246)',
                                'rgb(239, 68, 68)',
                                'rgb(16, 185, 129)',
                                'rgb(245, 158, 11)',
                                'rgb(168, 85, 247)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: {
                                labels: { color: '#94a3b8' }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 100,
                                ticks: { color: '#94a3b8' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            },
                            x: {
                                ticks: { color: '#94a3b8' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            }
                        }
                    }
                });
                activeCharts.push(modelChart);
            }
            
            // API Usage Chart
            const apiCtx = document.getElementById('apiUsageChart');
            if (apiCtx) {
                const apiChart = new Chart(apiCtx.getContext('2d'), {
                    type: 'line',
                    data: {
                        labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                        datasets: [{
                            label: 'API Requests (thousands)',
                            data: [12, 19, 15, 25, 22, 18, 24],
                            borderColor: 'rgb(59, 130, 246)',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            tension: 0.4,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: {
                                labels: { color: '#94a3b8' }
                            }
                        },
                        scales: {
                            y: {
                                ticks: { color: '#94a3b8' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            },
                            x: {
                                ticks: { color: '#94a3b8' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            }
                        }
                    }
                });
                activeCharts.push(apiChart);
            }
            
            // Add more charts for analytics page
            initAnalyticsCharts();
        }

        function initAnalyticsCharts() {
            // Model Popularity Chart
            const popularityCtx = document.getElementById('modelPopularityChart');
            if (popularityCtx) {
                const popularityChart = new Chart(popularityCtx.getContext('2d'), {
                    type: 'doughnut',
                    data: {
                        labels: ['Text AI', 'Image Gen', 'Video Gen', 'Audio Proc', 'IoT Control'],
                        datasets: [{
                            data: [35, 25, 15, 15, 10],
                            backgroundColor: [
                                'rgb(59, 130, 246)',
                                'rgb(139, 92, 246)',
                                'rgb(239, 68, 68)',
                                'rgb(16, 185, 129)',
                                'rgb(245, 158, 11)'
                            ]
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: { color: '#94a3b8' }
                            }
                        }
                    }
                });
                activeCharts.push(popularityChart);
            }
            
            // Revenue Chart
            const revenueCtx = document.getElementById('revenueChart');
            if (revenueCtx) {
                const revenueChart = new Chart(revenueCtx.getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                        datasets: [{
                            label: 'Revenue ($)',
                            data: [12500, 18900, 15800, 23700, 21500, 28900],
                            backgroundColor: 'rgba(16, 185, 129, 0.7)',
                            borderColor: 'rgb(16, 185, 129)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: {
                                labels: { color: '#94a3b8' }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: { color: '#94a3b8' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            },
                            x: {
                                ticks: { color: '#94a3b8' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            }
                        }
                    }
                });
                activeCharts.push(revenueChart);
            }
        }

        // UI Utility Functions
        function showLoading(show) {
            const overlay = document.getElementById('loadingOverlay');
            if (overlay) {
                overlay.style.display = show ? 'flex' : 'none';
            }
        }

        function showNotification(message, type = 'info') {
            const types = {
                success: { icon: 'check-circle', color: 'success' },
                error: { icon: 'exclamation-circle', color: 'danger' },
                warning: { icon: 'exclamation-triangle', color: 'warning' },
                info: { icon: 'info-circle', color: 'info' }
            };
            
            const config = types[type] || types.info;
            
            const notification = document.createElement('div');
            notification.className = `alert alert-${config.color} alert-dismissible fade show position-fixed`;
            notification.style.cssText = `
                top: 20px;
                right: 20px;
                z-index: 9999;
                min-width: 300px;
                box-shadow: var(--shadow-lg);
            `;
            notification.innerHTML = `
                <i class="fas fa-${config.icon} me-2"></i>
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            
            document.body.appendChild(notification);
            
            // Auto-remove after 5 seconds
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.remove();
                }
            }, 5000);
        }

        function animateStats() {
            const stats = ['total-users', 'total-images', 'api-calls', 'iot-devices'];
            const finalValues = [12847, 894231, 4200000, 3412];
            
            stats.forEach((id, index) => {
                const element = document.getElementById(id);
                if (element) {
                    animateValue(element, 0, finalValues[index], 2000);
                }
            });
        }

        function animateValue(element, start, end, duration) {
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                const value = Math.floor(progress * (end - start) + start);
                element.textContent = value.toLocaleString();
                if (progress < 1) {
                    window.requestAnimationFrame(step);
                }
            };
            window.requestAnimationFrame(step);
        }

        function toggleChat() {
            const chatPanel = document.getElementById('chatPanel');
            if (chatPanel) {
                chatPanel.style.display = chatPanel.style.display === 'none' ? 'block' : 'none';
            }
        }

        function sendChatMessage() {
            const input = document.getElementById('chatInput');
            const messages = document.getElementById('chatMessages');
            
            if (!input.value.trim()) return;
            
            // Add user message
            messages.innerHTML += `
                <div class="d-flex justify-content-end mb-2">
                    <div class="bg-primary text-white rounded p-2" style="max-width: 70%;">
                        ${input.value}
                    </div>
                </div>
            `;
            
            const userMessage = input.value;
            input.value = '';
            
            // Simulate AI response
            setTimeout(() => {
                const responses = [
                    "I've analyzed your query and can help with that. Based on the patterns I see, I recommend checking the analytics dashboard for more insights.",
                    "That's an interesting question! The AI models are currently operating at 98% efficiency. Would you like me to generate a report?",
                    "I understand your request. Let me process that through our neural networks and provide you with optimized solutions.",
                    "Based on your usage patterns, I suggest trying the new image variation feature. It might help with your creative projects."
                ];
                
                const response = responses[Math.floor(Math.random() * responses.length)];
                
                messages.innerHTML += `
                    <div class="d-flex justify-content-start mb-2">
                        <div class="bg-secondary text-white rounded p-2" style="max-width: 70%;">
                            <i class="fas fa-robot me-1"></i> ${response}
                        </div>
                    </div>
                `;
                
                // Scroll to bottom
                messages.scrollTop = messages.scrollHeight;
            }, 1000);
        }

        // Event Listeners Setup
        function setupEventListeners() {
            // Audio speed slider
            const speedSlider = document.getElementById('audioSpeed');
            const speedValue = document.getElementById('speedValue');
            
            if (speedSlider && speedValue) {
                speedSlider.addEventListener('input', function() {
                    speedValue.textContent = `${this.value}x`;
                });
            }
            
            // IoT action change
            const iotAction = document.getElementById('iotAction');
            const customCommandContainer = document.getElementById('customCommandContainer');
            
            if (iotAction && customCommandContainer) {
                iotAction.addEventListener('change', function() {
                    customCommandContainer.style.display = this.value === 'custom' ? 'block' : 'none';
                });
            }
            
            // Form submission prevention
            document.querySelectorAll('form').forEach(form => {
                form.addEventListener('submit', e => e.preventDefault());
            });
            
            // Navbar scroll effect
            window.addEventListener('scroll', function() {
                const navbar = document.querySelector('.navbar');
                if (window.scrollY > 50) {
                    navbar.style.boxShadow = 'var(--shadow-md)';
                } else {
                    navbar.style.boxShadow = 'none';
                }
            });
            
            // Mobile menu close on click
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function() {
                    const navbarCollapse = document.getElementById('navbarNav');
                    if (navbarCollapse.classList.contains('show')) {
                        new bootstrap.Collapse(navbarCollapse).hide();
                    }
                });
            });
        }

        // Placeholder functions for button actions
        function copyTextOutput() { showNotification('Text copied to clipboard!', 'success'); }
        function downloadTextOutput() { showNotification('Text downloaded!', 'success'); }
        function downloadImage() { showNotification('Image downloaded!', 'success'); }
        function createVariation() { showNotification('Creating image variation...', 'info'); }
        function downloadVideo() { showNotification('Video download started!', 'success'); }
        function playAudio() { showNotification('Playing audio...', 'info'); }
        function downloadAudio() { showNotification('Audio downloaded!', 'success'); }
        function runWorkflow(id) { showNotification(`Workflow ${id} started!`, 'success'); }
        function editWorkflow(id) { showNotification(`Editing workflow ${id}...`, 'info'); }
        function deleteWorkflow(id) { 
            if (confirm('Are you sure you want to delete this workflow?')) {
                showNotification(`Workflow ${id} deleted!`, 'success');
            }
        }
        function editUser(id) { showNotification(`Editing user ${id}...`, 'info'); }
        function toggleUserStatus(id) { showNotification('User status updated!', 'success'); }
        function approveRequest(id) { showNotification(`Request ${id} approved!`, 'success'); }
        function rejectRequest(id) { showNotification(`Request ${id} rejected!`, 'warning'); }
        function requestMoreInfo(id) { showNotification(`Requested more info for ${id}`, 'info'); }
        function clearCache() { showNotification('Cache cleared successfully!', 'success'); }
        function backupDatabase() { showNotification('Database backup started!', 'success'); }
        function restartServices() { showNotification('Services restarting...', 'warning'); }
        function simulateRegister() { showNotification('Registration feature coming soon!', 'info'); }

        // Initialize analytics data loading
        function loadAnalyticsData() {
            // This would load analytics data from API
            setTimeout(() => {
                // Update top models list
                const topModels = [
                    { name: 'Text Generation', usage: '35%' },
                    { name: 'Image Generation', usage: '25%' },
                    { name: 'Audio Processing', usage: '15%' },
                    { name: 'Video Generation', usage: '15%' },
                    { name: 'IoT Control', usage: '10%' }
                ];
                
                document.getElementById('topModelsList').innerHTML = topModels.map(model => `
                    <div class="d-flex justify-content-between mb-2">
                        <span>${model.name}</span>
                        <span class="badge bg-primary">${model.usage}</span>
                    </div>
                `).join('');
                
                // Update performance metrics
                const metrics = [
                    { name: 'API Response Time', value: '145ms' },
                    { name: 'Model Accuracy', value: '96.7%' },
                    { name: 'Uptime', value: '99.9%' },
                    { name: 'User Satisfaction', value: '4.8/5' }
                ];
                
                document.getElementById('performanceMetrics').innerHTML = metrics.map(metric => `
                    <div class="d-flex justify-content-between mb-2">
                        <span>${metric.name}</span>
                        <span class="text-success">${metric.value}</span>
                    </div>
                `).join('');
            }, 500);
        }

        // Load activity on dashboard
        function loadActivity() {
            // Already handled in loadDashboardData
        }

        // Expose functions to global scope for onclick handlers
        window.navigateTo = navigateTo;
        window.generateText = generateText;
        window.generateImage = generateImage;
        window.generateVideo = generateVideo;
        window.generateAudio = generateAudio;
        window.sendIoTCommand = sendIoTCommand;
        window.createWorkflow = createWorkflow;
        window.toggleChat = toggleChat;
        window.sendChatMessage = sendChatMessage;
        
        // Add all other functions to window scope
        Object.keys(this).forEach(key => {
            if (typeof this[key] === 'function' && !key.startsWith('_')) {
                window[key] = this[key];
            }
        });
    </script>
</body>
</html>
